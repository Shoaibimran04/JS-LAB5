<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Lab 5 | COMP1073 Client-Side JavaScript</title>
	<link href="styles.css" rel="stylesheet" />
</head>

<body>
	<h1>Color Chooser</h1>
	<p>Slide the bars to create a new colour <abbr title="Red, Green, Blue">RGB</abbr> values of the <code>background-color</code> CSS property of the HTML element.</p>
	<label for="red">Red</label>
	<input id="red" type="range" min="0" max="255" value="0" />
	<label for="green">Green</label>
	<input id="green" type="range" min="0" max="255" value="0" />
	<label for="blue">Blue</label>
	<input id="blue" type="range" min="0" max="255" value="0" />

	<script>
		/* Declare and initialize global variables
		-------------------------------------------------- */
		var pageBg = document.querySelector('html');
		var sliders = document.getElementsByTagName('input');
		var rgb = [0, 0, 0];


		/* Event handlers for range sliders
		-------------------------------------------------- */
		for (var i = 0; i < sliders.length; i++) {
			sliders[i].onchange = function() {
				var whichSlider = this.getAttribute('id');
				var sliderValue = this.value;
				var newRgb = changeRgb(whichSlider, sliderValue);
				var newCSS = writeCSS(newRgb);
				pageBg.style.backgroundColor = newCSS;
			}
		}

		/* Functions
		-------------------------------------------------- */
		function changeRgb(channel, value) {
			switch (channel) {
				case 'red':
					rgb[0] = value;
					break;
				case 'green':
					rgb[1] = value;
					break;
				case 'blue':
					rgb[2] = value;
					break;
			}
			return rgb;
		}

		function writeCSS(newRgb) {
			var newColor = 'rgb(' + newRgb[0] + ',' + newRgb[1] + ',' + newRgb[2] + ')';
			return newColor;
		}
	</script>
</body>
</html>
